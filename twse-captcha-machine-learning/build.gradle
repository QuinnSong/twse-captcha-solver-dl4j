/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */

apply plugin: 'java'
apply plugin: 'application'

buildscript {
    ext {
	dl4j_version = "1.0.0-beta2"
	dl4j_backend = "deeplearning4j-core"
	nd4j_backend = "nd4j-native-platform"
    }

    if (project.hasProperty("backend")) {
	// gradle run -Pbackend=GPU-CUDA-9.2
	if (backend.equals("GPU-CUDA-9.2")) {
	    dl4j_backend = "deeplearning4j-cuda-9.2"
	    nd4j_backend = "nd4j-cuda-9.2-platform"
	} else if (backend.equals("GPU-CUDA-8.0")) {
	    dl4j_backend = "deeplearning4j-cuda-8.0"
	    nd4j_backend = "nd4j-cuda-8.0-platform"
	}
	else {
	    println "INFO: No backend select, using Native backend instead."
	}
    }

}
repositories {
    mavenCentral()
}

mainClassName = 'coldnew.twse.captcha.Main'
sourceCompatibility = 1.8

dependencies {
    compile group: 'org.slf4j', name: 'slf4j-api', version: '1.7.25'
    compile group: 'commons-io', name: 'commons-io', version: '2.6'
    compile group: 'org.deeplearning4j', name: "${dl4j_backend}", version: "${dl4j_version}"
    compile group: 'org.deeplearning4j', name: 'deeplearning4j-ui_2.10', version: "${dl4j_version}"
    compile group: 'org.nd4j', name: "${nd4j_backend}", version: "${dl4j_version}"

    testCompile group: 'junit', name: 'junit', version: '4.12'
}
